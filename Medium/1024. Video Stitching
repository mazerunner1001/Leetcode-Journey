// can be done using greedy (O(nlogn)) and DP (O(n^2))


// greedy

class Solution {
public:
    int videoStitching(vector<vector<int>>& clips, int T) {
        sort(begin(clips), end(clips));
        int res = 0;
        int i = 0, time = 0, farthest = 0;

        while (time < T) {
            while (i < clips.size() && clips[i][0] <= time) {
                farthest = max(farthest, clips[i][1]);
                i++;
            }
            if (time == farthest) return -1;
            res++;
            time = farthest;
        }
        return res;
    }
};


// DP

class Solution {
public:
    int videoStitching(vector<vector<int>>& clips, int T) {
        vector<int> dp(T+1, INT_MAX);
        dp[0] = 0;
        
        for(int t=1; t<=T; t++){
            for(auto& c : clips){
                int start = c[0], end = c[1];
                if(start < t && t<= end && dp[start] != INT_MAX){
                    dp[t] = min(dp[t], dp[start] + 1);
                }
            }
        }
        if(dp[T] == INT_MAX) return -1;
        return dp[T];
    }
};
